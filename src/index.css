@import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Fragment+Mono&family=Oxanium:wght@500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-body: "Atkinson Hyperlegible";
    --font-display: "Oxanium";
    --font-mono: "Fragment Mono";

    /* Default Theme (Slate-based) */
    --background: 15 23 42;
    /* Slate 900 */
    --surface: 30 41 59;
    /* Slate 800 */
    --primary: 59 130 246;
    /* Blue 500 */
    --secondary: 100 116 139;
    /* Slate 500 */
    --accent: 249 115 22;
    /* Orange 500 */
    --success: 34 197 94;
    /* Green 500 */
    --warning: 251 191 36;
    /* Amber 400 */
    --error: 239 68 68;
    /* Red 500 */
    --text: 248 250 252;
    /* Slate 50 */
    --muted: 148 163 184;
    /* Slate 400 */
    --on-primary: 255 255 255;
    --on-accent: 11 18 32;

    --motion-fast: 140ms;
    --motion-standard: 220ms;
    --motion-emphasis: 300ms;
    --motion-ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
    --motion-ease-emphasis: cubic-bezier(0.22, 1, 0.36, 1);
  }

  [data-theme='retro'] {
    /* Retro Theme (Neon/Cyberpunk) */
    --background: 16 16 16;
    /* Deep black/gray */
    --surface: 26 26 26;
    /* Dark gray */
    --primary: 57 255 20;
    /* Neon Green */
    --secondary: 255 0 255;
    /* Neon Pink */
    --accent: 254 1 154;
    /* Hot Pink */
    --success: 57 255 20;
    /* Neon Green */
    --warning: 254 1 154;
    /* Hot Pink */
    --error: 255 51 51;
    /* Bright Red */
    --text: 255 255 255;
    --muted: 170 255 170;
    /* Light neon green */
    --on-primary: 16 16 16;
    --on-accent: 16 16 16;
  }

  [data-theme='midnight-black'] {
    /* Midnight Black (Inky / high-contrast / gritty) */
    --background: 2 4 8;
    --surface: 10 12 18;
    --primary: 70 155 255;
    --secondary: 120 132 150;
    --accent: 255 196 61;
    --success: 57 255 20;
    --warning: 255 196 61;
    --error: 255 68 68;
    --text: 255 255 255;
    --muted: 156 168 186;
    --on-primary: 255 255 255;
    --on-accent: 10 12 18;
  }

  body {
    background-color: rgb(var(--background));
    color: rgb(var(--text));
    font-family: var(--font-body), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color-scheme: dark;
  }

  body[data-theme='midnight-black'] {
    background-image:
      radial-gradient(1200px 800px at 18% 0%, rgb(70 155 255 / 0.18), transparent 62%),
      radial-gradient(900px 650px at 110% 30%, rgb(255 196 61 / 0.10), transparent 55%),
      radial-gradient(1000px 700px at 40% 120%, rgb(255 255 255 / 0.05), transparent 60%),
      linear-gradient(180deg, rgb(255 255 255 / 0.035), transparent 40%, rgb(0 0 0 / 0.2));
    background-attachment: fixed;
  }

  h1, h2, h3, .font-display {
    font-family: var(--font-display), var(--font-body), ui-sans-serif, system-ui, sans-serif;
  }

  code, pre {
    font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }
}

@layer utilities {
  .glass-panel-soft {
    @apply backdrop-blur-sm shadow-lg;
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 34%);
    border: 1px solid color-mix(in srgb, rgb(var(--text)), transparent 92%);
  }

  .glass-panel {
    @apply backdrop-blur-md shadow-xl;
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 24%);
    border: 1px solid color-mix(in srgb, rgb(var(--text)), transparent 90%);
  }

  .glass-panel-strong {
    @apply backdrop-blur-xl shadow-2xl;
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 14%);
    border: 1px solid color-mix(in srgb, rgb(var(--text)), transparent 86%);
  }

  [data-theme='retro'] .glass-panel-soft {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 30%);
    border: 1px solid rgb(var(--secondary) / 0.5);
    box-shadow: 0 0 8px rgb(var(--secondary) / 0.35), inset 0 0 4px rgb(var(--primary) / 0.25);
  }

  [data-theme='retro'] .glass-panel {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 20%);
    border: 1px solid rgb(var(--secondary) / 0.75);
    box-shadow: 0 0 10px rgb(var(--secondary) / 0.5), inset 0 0 5px rgb(var(--primary) / 0.3);
  }

  [data-theme='retro'] .glass-panel-strong {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 14%);
    border: 1px solid rgb(var(--secondary) / 0.9);
    box-shadow:
      0 0 14px rgb(var(--secondary) / 0.6),
      inset 0 0 8px rgb(var(--primary) / 0.35);
  }

  [data-theme='midnight-black'] .glass-panel-soft {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 56%);
    border: 1px solid rgb(var(--text) / 0.08);
    box-shadow:
      0 10px 35px rgb(0 0 0 / 0.5),
      inset 0 1px 0 rgb(255 255 255 / 0.04);
  }

  [data-theme='midnight-black'] .glass-panel {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 46%);
    border: 1px solid rgb(var(--text) / 0.10);
    box-shadow:
      0 16px 60px rgb(0 0 0 / 0.65),
      inset 0 1px 0 rgb(255 255 255 / 0.05);
  }

  [data-theme='midnight-black'] .glass-panel-strong {
    background-color: color-mix(in srgb, rgb(var(--surface)), transparent 38%);
    border: 1px solid rgb(var(--text) / 0.12);
    box-shadow:
      0 20px 70px rgb(0 0 0 / 0.72),
      inset 0 1px 0 rgb(255 255 255 / 0.06);
  }

  .ui-focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }

  .ui-pressable {
    transition-property: transform, filter, box-shadow, border-color, background-color, color;
    transition-duration: var(--motion-standard);
    transition-timing-function: var(--motion-ease-standard);
  }

  .ui-pressable:hover {
    filter: brightness(1.08);
  }

  .ui-pressable:active {
    transform: scale(0.98);
  }

  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  [data-theme='retro'] .text-shadow {
    text-shadow: 0 0 5px rgb(var(--primary)), 0 0 10px rgb(var(--secondary));
  }

  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--secondary)) rgb(var(--surface));
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgb(var(--secondary));
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgb(var(--muted));
  }

  .stable-scrollbar-gutter {
    scrollbar-gutter: stable;
  }

  .animate-pulse-fire {
    animation: pulse-fire 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-fire {

    0%,
    100% {
      box-shadow: 0 0 20px 5px rgba(239, 68, 68, 0.5), 0 0 40px 10px rgba(249, 115, 22, 0.3);
      border-color: rgba(239, 68, 68, 0.8);
    }

    50% {
      box-shadow: 0 0 30px 10px rgba(239, 68, 68, 0.7), 0 0 60px 20px rgba(249, 115, 22, 0.5);
      border-color: rgba(249, 115, 22, 1);
    }
  }

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0)
        scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), 1);
    }
    to {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
  }

  .animate-in {
    animation-name: enter;
    animation-duration: var(--motion-standard);
    animation-timing-function: var(--motion-ease-standard);
    animation-fill-mode: both;
  }

  .fade-in { --tw-enter-opacity: 0; }
  .zoom-in { --tw-enter-scale: 0.95; }
  .zoom-in-95 { --tw-enter-scale: 0.95; }
  .slide-in-from-bottom-2 { --tw-enter-translate-y: 0.5rem; }
  .slide-in-from-bottom-4 { --tw-enter-translate-y: 1rem; }
  .slide-in-from-top-2 { --tw-enter-translate-y: -0.5rem; }
  .slide-in-from-right { --tw-enter-translate-x: 1rem; }

  .duration-100 { animation-duration: 100ms; }
  .duration-200 { animation-duration: 200ms; }
  .duration-300 { animation-duration: 300ms; }
  .duration-500 { animation-duration: 500ms; }
  .duration-700 { animation-duration: 700ms; }

  @media (prefers-reduced-motion: reduce) {
    .animate-in {
      animation-duration: 1ms;
    }
  }

}
